@model Repozytorium.Models.Views.OgloszeniaZKategoriiViewModels

@{
    ViewBag.Tytul = "Ogłoszenia z kategorii " + Model.NazwaKategorii;
}

<h2>Ogłoszenia z kategorii: @Model.NazwaKategorii</h2>


<table class="table">
    <tr>
        <th>
            @Html.ActionLink("Tytuł", "PokazOgloszenia", new { sortOrder = ViewBag.IdSort })         
        </th>
        <th>
            @Html.ActionLink("Treść", "PokazOgloszenia", new { sortOrder = ViewBag.TytulSort })
        </th>
        <th style="width:110px">
            @Html.ActionLink("Data dodania", "PokazOgloszenia", new { sortOrder = ViewBag.DataDodaniaSort })
        </th>
        <th></th>
    </tr>

@foreach (var item in Model.Ogloszenia) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Tytul)            
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Tresc)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DataDodania)
        </td>
        <td>
            @Html.ActionLink("Szczegóły", "Details", "Ogloszenie", new { id = item.Id }, new { @class = "btn btn-warning" })
            @if (User.Identity.IsAuthenticated && (User.IsInRole("Admin") || User.IsInRole("Pracownik")))
            {
                <br />
                @Html.ActionLink("Edytuj", "Edit", new { id = item.Id }, new { @class = "btn btn-primary" })
                if (User.IsInRole("Admin"))
                {
                    <br />
                    @Html.ActionLink("Usuń", "Delete", new { id = item.Id }, new { @class = "btn btn-danger" })
                }
            }

        </td>
    </tr>
}

</table>
